{"version":3,"sources":["../../src/AsteriskManagers/manager-modify.js"],"names":["manager","$formObj","$","validateRules","username","identifier","rules","type","prompt","globalTranslate","am_ValidationAMINameIsEmpty","secret","am_ValidationAMISecretIsEmpty","initialize","dropdown","checkbox","onChecked","$childCheckbox","closest","siblings","find","onUnchecked","fireOnInit","onChange","$listGroup","$parentCheckbox","children","$checkbox","allChecked","allUnchecked","each","on","e","preventDefault","initializeForm","cbBeforeSendForm","settings","result","data","form","cbAfterSendForm","Form","url","globalRootUrl","document","ready"],"mappings":"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","sourcesContent":["/*\n * Copyright (C) MIKO LLC - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential\n * Written by Nikolay Beketov, 11 2018\n *\n */\n/* global globalRootUrl,globalTranslate, Form */\n\nconst manager = {\n\t$formObj: $('#save-ami-form'),\n\tvalidateRules: {\n\t\tusername: {\n\t\t\tidentifier: 'username',\n\t\t\trules: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'empty',\n\t\t\t\t\tprompt: globalTranslate.am_ValidationAMINameIsEmpty,\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\tsecret: {\n\t\t\tidentifier: 'secret',\n\t\t\trules: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'empty',\n\t\t\t\t\tprompt: globalTranslate.am_ValidationAMISecretIsEmpty,\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t},\n\tinitialize() {\n\t\t$('.network-filter-select').dropdown();\n\t\t$('.list .master.checkbox')\n\t\t\t.checkbox({\n\t\t\t\t// check all children\n\t\t\t\tonChecked() {\n\t\t\t\t\tconst\n\t\t\t\t\t\t$childCheckbox = $(this).closest('.checkbox').siblings('.list').find('.checkbox');\n\t\t\t\t\t$childCheckbox.checkbox('check');\n\t\t\t\t},\n\t\t\t\t// uncheck all children\n\t\t\t\tonUnchecked() {\n\t\t\t\t\tconst\n\t\t\t\t\t\t$childCheckbox = $(this).closest('.checkbox').siblings('.list').find('.checkbox');\n\t\t\t\t\t$childCheckbox.checkbox('uncheck');\n\t\t\t\t},\n\t\t\t});\n\t\t$('.list .child.checkbox')\n\t\t\t.checkbox({\n\t\t\t\t// Fire on load to set parent value\n\t\t\t\tfireOnInit: true,\n\t\t\t\t// Change parent state on each child checkbox change\n\t\t\t\tonChange() {\n\t\t\t\t\tconst $listGroup = $(this).closest('.list');\n\t\t\t\t\tconst $parentCheckbox = $listGroup.closest('.item').children('.checkbox');\n\t\t\t\t\tconst $checkbox = $listGroup.find('.checkbox');\n\t\t\t\t\tlet allChecked = true;\n\t\t\t\t\tlet allUnchecked = true;\n\t\t\t\t\t// check to see if all other siblings are checked or unchecked\n\t\t\t\t\t$checkbox.each(function () {\n\t\t\t\t\t\tif ($(this).checkbox('is checked')) {\n\t\t\t\t\t\t\tallUnchecked = false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tallChecked = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t// set parent checkbox state, but dont trigger its onChange callback\n\t\t\t\t\tif (allChecked) {\n\t\t\t\t\t\t$parentCheckbox.checkbox('set checked');\n\t\t\t\t\t} else if (allUnchecked) {\n\t\t\t\t\t\t$parentCheckbox.checkbox('set unchecked');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$parentCheckbox.checkbox('set indeterminate');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\t\t$('.uncheck.button').on('click', (e) => {\n\t\t\te.preventDefault();\n\t\t\t$('.checkbox').checkbox('uncheck');\n\t\t});\n\t\tmanager.initializeForm();\n\t},\n\tcbBeforeSendForm(settings) {\n\t\tconst result = settings;\n\t\tresult.data = manager.$formObj.form('get values');\n\t\treturn result;\n\t},\n\tcbAfterSendForm() {\n\n\t},\n\tinitializeForm() {\n\t\tForm.$formObj = manager.$formObj;\n\t\tForm.url = `${globalRootUrl}asterisk-managers/save`;\n\t\tForm.validateRules = manager.validateRules;\n\t\tForm.cbBeforeSendForm = manager.cbBeforeSendForm;\n\t\tForm.cbAfterSendForm = manager.cbAfterSendForm;\n\t\tForm.initialize();\n\t},\n\n};\n\n\n$(document).ready(() => {\n\tmanager.initialize();\n});\n"],"file":"manager-modify.js"}