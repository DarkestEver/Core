{"version":3,"sources":["../../src/OutOffWorkTime/out-of-work-time-modify.js"],"names":["$","fn","form","settings","rules","customNotEmptyIfActionRule","value","action","length","val","outOfWorkTimeRecord","$formObj","$rangeDaysStart","$rangeDaysEnd","$rangeTimeStart","$rangeTimeEnd","$date_from","$date_to","$time_to","validateRules","audio_message_id","identifier","type","prompt","globalTranslate","tf_ValidateAudioMessageEmpty","extension","tf_ValidateExtensionEmpty","timefrom","optional","tf_ValidateCheckTimeInterval","timeto","initialize","dropdown","calendar","firstDayOfWeek","SemanticLocalization","calendarFirstDayOfWeek","text","calendarText","endCalendar","inline","monthFirst","regExp","startCalendar","onChange","newDateTo","oldDateTo","attr","Date","trigger","disableMinute","ampm","newTimeTo","oldTimeTo","toggleDisabledFieldClass","from","to","on","e","date_from","date_to","preventDefault","weekday_from","weekday_to","initializeForm","Extensions","getDropdownSettingsWithoutEmpty","fixBugDropdownIcon","changeDateFormat","dateFrom","dateTo","undefined","show","hide","customValidateForm","result","data","html","tf_ValidateCheckDateInterval","Form","$submitButton","transition","removeClass","tf_ValidateCheckWeekDayInterval","time_from","time_to","tf_ValidateNoRulesSelected","cbBeforeSendForm","setHours","Math","round","getTime","cbAfterSendForm","url","globalRootUrl","document","ready"],"mappings":"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","sourcesContent":["/*\n * Copyright (C) MIKO LLC - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential\n * Written by Nikolay Beketov, 6 2018\n *\n */\n\n/* global globalRootUrl,globalTranslate, Extensions, Form, SemanticLocalization */\n\n\n$.fn.form.settings.rules.customNotEmptyIfActionRule = (value, action) => {\n\tif (value.length === 0 && $('#action').val() === action) {\n\t\treturn false;\n\t}\n\treturn true;\n};\n\nconst outOfWorkTimeRecord = {\n\t$formObj: $('#save-outoffwork-form'),\n\t$rangeDaysStart: $('#range-days-start'),\n\t$rangeDaysEnd: $('#range-days-end'),\n\t$rangeTimeStart: $('#range-time-start'),\n\t$rangeTimeEnd: $('#range-time-end'),\n\t$date_from: $('#date_from'),\n\t$date_to: $('#date_to'),\n\t$time_to: $('#time_to'),\n\tvalidateRules: {\n\t\taudio_message_id: {\n\t\t\tidentifier: 'audio_message_id',\n\t\t\trules: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'customNotEmptyIfActionRule[playmessage]',\n\t\t\t\t\tprompt: globalTranslate.tf_ValidateAudioMessageEmpty,\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\textension: {\n\t\t\tidentifier: 'extension',\n\t\t\trules: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'customNotEmptyIfActionRule[extension]',\n\t\t\t\t\tprompt: globalTranslate.tf_ValidateExtensionEmpty,\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\ttimefrom: {\n\t\t\toptional: true,\n\t\t\tidentifier: 'time_from',\n\t\t\trules: [{\n\t\t\t\ttype: 'regExp',\n\t\t\t\tvalue: /^(2[0-3]|1?[0-9]):([0-5]?[0-9])$/,\n\t\t\t\tprompt: globalTranslate.tf_ValidateCheckTimeInterval,\n\t\t\t}],\n\t\t},\n\t\ttimeto: {\n\t\t\tidentifier: 'time_to',\n\t\t\toptional: true,\n\t\t\trules: [{\n\t\t\t\ttype: 'regExp',\n\t\t\t\tvalue: /^(2[0-3]|1?[0-9]):([0-5]?[0-9])$/,\n\t\t\t\tprompt: globalTranslate.tf_ValidateCheckTimeInterval,\n\t\t\t}],\n\t\t},\n\t},\n\tinitialize() {\n\t\t$('.dropdown-default').dropdown();\n\t\toutOfWorkTimeRecord.$rangeDaysStart.calendar({\n\t\t\tfirstDayOfWeek: SemanticLocalization.calendarFirstDayOfWeek,\n\t\t\ttext: SemanticLocalization.calendarText,\n\t\t\tendCalendar: outOfWorkTimeRecord.$rangeDaysEnd,\n\t\t\ttype: 'date',\n\t\t\tinline: false,\n\t\t\tmonthFirst: false,\n\t\t\tregExp: SemanticLocalization.regExp,\n\t\t});\n\t\toutOfWorkTimeRecord.$rangeDaysEnd.calendar({\n\t\t\tfirstDayOfWeek: SemanticLocalization.calendarFirstDayOfWeek,\n\t\t\ttext: SemanticLocalization.calendarText,\n\t\t\tstartCalendar: outOfWorkTimeRecord.$rangeDaysStart,\n\t\t\ttype: 'date',\n\t\t\tinline: false,\n\t\t\tmonthFirst: false,\n\t\t\tregExp: SemanticLocalization.regExp,\n\t\t\tonChange: (newDateTo) => {\n\t\t\t\tlet oldDateTo = outOfWorkTimeRecord.$date_to.attr('value');\n\t\t\t\tif (newDateTo !== null && oldDateTo !== '') {\n\t\t\t\t\toldDateTo = new Date(oldDateTo * 1000);\n\t\t\t\t\tif ((newDateTo - oldDateTo) !== 0) {\n\t\t\t\t\t\toutOfWorkTimeRecord.$date_from.trigger('change');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t\toutOfWorkTimeRecord.$rangeTimeStart.calendar({\n\t\t\tfirstDayOfWeek: SemanticLocalization.calendarFirstDayOfWeek,\n\t\t\ttext: SemanticLocalization.calendarText,\n\t\t\tendCalendar: outOfWorkTimeRecord.$rangeTimeEnd,\n\t\t\ttype: 'time',\n\t\t\tinline: false,\n\t\t\tdisableMinute: true,\n\t\t\tampm: false,\n\t\t});\n\t\toutOfWorkTimeRecord.$rangeTimeEnd.calendar({\n\t\t\tfirstDayOfWeek: SemanticLocalization.calendarFirstDayOfWeek,\n\t\t\ttext: SemanticLocalization.calendarText,\n\t\t\tstartCalendar: outOfWorkTimeRecord.$rangeTimeStart,\n\t\t\ttype: 'time',\n\t\t\tinline: false,\n\t\t\tdisableMinute: true,\n\t\t\tampm: false,\n\t\t\tonChange: (newTimeTo) => {\n\t\t\t\tlet oldTimeTo = outOfWorkTimeRecord.$time_to.attr('value');\n\t\t\t\tif (newTimeTo !== null && oldTimeTo !== '') {\n\t\t\t\t\toldTimeTo = new Date(oldTimeTo * 1000);\n\t\t\t\t\tif ((newTimeTo - oldTimeTo) !== 0) {\n\t\t\t\t\t\toutOfWorkTimeRecord.$time_to.trigger('change');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t\t$('#action')\n\t\t\t.dropdown({\n\t\t\t\tonChange() {\n\t\t\t\t\toutOfWorkTimeRecord.toggleDisabledFieldClass();\n\t\t\t\t},\n\t\t\t});\n\t\t$('#weekday_from')\n\t\t\t.dropdown({\n\t\t\t\tonChange() {\n\t\t\t\t\tconst from = outOfWorkTimeRecord.$formObj.form('get value', 'weekday_from');\n\t\t\t\t\tconst to = outOfWorkTimeRecord.$formObj.form('get value', 'weekday_to');\n\t\t\t\t\tif (from < to || to === -1 || from === -1) {\n\t\t\t\t\t\toutOfWorkTimeRecord.$formObj.form('set value', 'weekday_to', from);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\t\t$('#weekday_to')\n\t\t\t.dropdown({\n\t\t\t\tonChange() {\n\t\t\t\t\tconst from = outOfWorkTimeRecord.$formObj.form('get value', 'weekday_from');\n\t\t\t\t\tconst to = outOfWorkTimeRecord.$formObj.form('get value', 'weekday_to');\n\t\t\t\t\tif (to < from || from === -1) {\n\t\t\t\t\t\toutOfWorkTimeRecord.$formObj.form('set value', 'weekday_from', to);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\n\t\t$('#erase-dates').on('click', (e) => {\n\t\t\toutOfWorkTimeRecord.$rangeDaysStart.calendar('clear');\n\t\t\toutOfWorkTimeRecord.$rangeDaysEnd.calendar('clear');\n\t\t\t// outOfWorkTimeRecord.$date_from.trigger('change');\n\t\t\toutOfWorkTimeRecord.$formObj\n\t\t\t\t.form('set values', {\n\t\t\t\t\tdate_from: '',\n\t\t\t\t\tdate_to: '',\n\t\t\t\t});\n\t\t\te.preventDefault();\n\t\t});\n\n\t\t$('#erase-weekdays').on('click', (e) => {\n\t\t\toutOfWorkTimeRecord.$formObj\n\t\t\t\t.form('set values', {\n\t\t\t\t\tweekday_from: -1,\n\t\t\t\t\tweekday_to: -1,\n\t\t\t\t});\n\t\t\toutOfWorkTimeRecord.$rangeDaysStart.trigger('change');\n\t\t\te.preventDefault();\n\t\t});\n\t\t$('#erase-timeperiod').on('click', (e) => {\n\t\t\toutOfWorkTimeRecord.$rangeTimeStart.calendar('clear');\n\t\t\toutOfWorkTimeRecord.$rangeTimeEnd.calendar('clear');\n\t\t\toutOfWorkTimeRecord.$time_to.trigger('change');\n\t\t\te.preventDefault();\n\t\t});\n\t\toutOfWorkTimeRecord.initializeForm();\n\n\t\t$('.forwarding-select').dropdown(Extensions.getDropdownSettingsWithoutEmpty());\n\t\tExtensions.fixBugDropdownIcon();\n\t\toutOfWorkTimeRecord.toggleDisabledFieldClass();\n\t\toutOfWorkTimeRecord.changeDateFormat();\n\t},\n\t/**\n\t * Меняет представление даты начала и даты окончания из linuxtime в локальное представление\n\t */\n\tchangeDateFormat() {\n\t\tconst dateFrom = outOfWorkTimeRecord.$date_from.attr('value');\n\t\tconst dateTo = outOfWorkTimeRecord.$date_to.attr('value');\n\t\tif (dateFrom !== undefined &&  dateFrom.length > 0) {\n\t\t\toutOfWorkTimeRecord.$rangeDaysStart.calendar('set date', new Date(dateFrom * 1000));\n\t\t\t// outOfWorkTimeRecord.$formObj.form('set value', 'date_from', dateFrom);\n\t\t}\n\t\tif (dateTo !== undefined && dateTo.length > 0) {\n\t\t\toutOfWorkTimeRecord.$rangeDaysEnd.calendar('set date', new Date(dateTo * 1000));\n\t\t\t// outOfWorkTimeRecord.$formObj.form('set value', 'date_to', dateTo);\n\t\t}\n\t},\n\ttoggleDisabledFieldClass() {\n\t\tif (outOfWorkTimeRecord.$formObj.form('get value', 'action') === 'extension') {\n\t\t\t$('#extension-group').show();\n\t\t\t$('#audio-file-group').hide();\n\t\t\t$('#audio_message_id').dropdown('clear');\n\t\t} else {\n\t\t\t$('#extension-group').hide();\n\t\t\t$('#audio-file-group').show();\n\t\t\toutOfWorkTimeRecord.$formObj.form('set value', 'extension', -1);\n\t\t}\n\t},\n\t/**\n\t * Кастомная проверка полей формы, которые не получается сделать через валидацию\n\t * @param result\n\t * @returns {*}\n\t */\n\tcustomValidateForm(result) {\n\t\t// Проверим поля даты\n\t\tif ((result.data.date_from !== '' && result.data.date_to === '')\n\t\t\t|| (result.data.date_to !== '' && result.data.date_from === '')) {\n\t\t\t$('.form .error.message').html(globalTranslate.tf_ValidateCheckDateInterval).show();\n\t\t\tForm.$submitButton.transition('shake').removeClass('loading disabled');\n\t\t\treturn false;\n\t\t}\n\t\t// Проверим поля дней недели\n\t\tif ((result.data.weekday_from > 0 && result.data.weekday_to === '-1')\n\t\t\t|| (result.data.weekday_to > 0 && result.data.weekday_from === '-1')) {\n\t\t\t$('.form .error.message').html(globalTranslate.tf_ValidateCheckWeekDayInterval).show();\n\t\t\tForm.$submitButton.transition('shake').removeClass('loading disabled');\n\t\t\treturn false;\n\t\t}\n\t\t// Проверим поля времени\n\t\tif ((result.data.time_from.length > 0 && result.data.time_to.length === 0)\n\t\t\t|| (result.data.time_to.length > 0 && result.data.time_from.length === 0)) {\n\t\t\t$('.form .error.message').html(globalTranslate.tf_ValidateCheckTimeInterval).show();\n\t\t\tForm.$submitButton.transition('shake').removeClass('loading disabled');\n\n\t\t\treturn false;\n\t\t}\n\t\t// Проверим поля времени на соблюдение формату\n\t\tif ((result.data.time_from.length > 0 && result.data.time_to.length === 0)\n\t\t\t|| (result.data.time_to.length > 0 && result.data.time_from.length === 0)) {\n\t\t\t$('.form .error.message').html(globalTranslate.tf_ValidateCheckTimeInterval).show();\n\t\t\tForm.$submitButton.transition('shake').removeClass('loading disabled');\n\n\t\t\treturn false;\n\t\t}\n\n\t\t// Проверим все поля\n\t\tif (result.data.time_from === ''\n\t\t\t&& result.data.time_to === ''\n\t\t\t&& result.data.weekday_from === '-1'\n\t\t\t&& result.data.weekday_to === '-1'\n\t\t\t&& result.data.date_from === ''\n\t\t\t&& result.data.date_to === '') {\n\t\t\t$('.form .error.message').html(globalTranslate.tf_ValidateNoRulesSelected).show();\n\t\t\tForm.$submitButton.transition('shake').removeClass('loading disabled');\n\t\t\treturn false;\n\t\t}\n\t\treturn result;\n\t},\n\tcbBeforeSendForm(settings) {\n\t\tconst result = settings;\n\t\t$('.form .error.message').html('').hide();\n\t\tresult.data = outOfWorkTimeRecord.$formObj.form('get values');\n\t\tconst dateFrom = outOfWorkTimeRecord.$rangeDaysStart.calendar('get date');\n\t\tif (dateFrom !== null) {\n\t\t\tdateFrom.setHours(0, 0, 0, 0);\n\t\t\tresult.data.date_from = Math.round(dateFrom.getTime() / 1000);\n\t\t}\n\t\tconst dateTo = outOfWorkTimeRecord.$rangeDaysEnd.calendar('get date');\n\t\tif (dateTo !== null) {\n\t\t\tdateTo.setHours(23, 59, 59, 0);\n\t\t\tresult.data.date_to = Math.round(dateTo.getTime() / 1000);\n\t\t}\n\t\treturn outOfWorkTimeRecord.customValidateForm(result);\n\t},\n\tcbAfterSendForm() {\n\n\t},\n\tinitializeForm() {\n\t\tForm.$formObj = outOfWorkTimeRecord.$formObj;\n\t\tForm.url = `${globalRootUrl}out-off-work-time/save`;\n\t\tForm.validateRules = outOfWorkTimeRecord.validateRules;\n\t\tForm.cbBeforeSendForm = outOfWorkTimeRecord.cbBeforeSendForm;\n\t\tForm.cbAfterSendForm = outOfWorkTimeRecord.cbAfterSendForm;\n\t\tForm.initialize();\n\t},\n};\n\n$(document).ready(() => {\n\toutOfWorkTimeRecord.initialize();\n});\n"],"file":"out-of-work-time-modify.js"}