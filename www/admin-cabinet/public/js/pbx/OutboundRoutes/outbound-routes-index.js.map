{"version":3,"sources":["../../src/OutboundRoutes/outbound-routes-index.js"],"names":["outboundRoutes","initialize","$","tableDnD","onDrop","each","index","obj","ruleId","attr","oldPriority","parseInt","newPriority","rowIndex","api","on","url","globalRootUrl","method","data","onDragClass","dragHandle","e","id","target","closest","window","location","document","ready"],"mappings":";;AAAA;;;;;;;;AAQA;AACA,IAAMA,cAAc,GAAG;AACtBC,EAAAA,UADsB;AAAA,0BACT;AACZC,MAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBC,QAAnB,CAA4B;AAC3BC,QAAAA,MAD2B;AAAA,4BAClB;AACRF,YAAAA,CAAC,CAAC,WAAD,CAAD,CAAeG,IAAf,CAAoB,UAACC,KAAD,EAAQC,GAAR,EAAgB;AACnC,kBAAMC,MAAM,GAAGN,CAAC,CAACK,GAAD,CAAD,CAAOE,IAAP,CAAY,IAAZ,CAAf;AACA,kBAAMC,WAAW,GAAGC,QAAQ,CAACT,CAAC,CAACK,GAAD,CAAD,CAAOE,IAAP,CAAY,YAAZ,CAAD,EAA4B,EAA5B,CAA5B;AACA,kBAAMG,WAAW,GAAGL,GAAG,CAACM,QAAxB;;AACA,kBAAIH,WAAW,KAAKE,WAApB,EAAiC;AAChCV,gBAAAA,CAAC,CAACY,GAAF,CAAM;AACLC,kBAAAA,EAAE,EAAE,KADC;AAELC,kBAAAA,GAAG,YAAKC,aAAL,4CAAoDT,MAApD,CAFE;AAGLU,kBAAAA,MAAM,EAAE,MAHH;AAILC,kBAAAA,IAAI,EAAE;AAACP,oBAAAA,WAAW,EAAXA;AAAD;AAJD,iBAAN;AAMA;AACD,aAZD;AAaA;;AAf0B;AAAA;AAgB3BQ,QAAAA,WAAW,EAAE,aAhBc;AAiB3BC,QAAAA,UAAU,EAAE;AAjBe,OAA5B;AAoBAnB,MAAAA,CAAC,CAAC,cAAD,CAAD,CAAkBa,EAAlB,CAAqB,UAArB,EAAiC,UAACO,CAAD,EAAO;AACvC,YAAMC,EAAE,GAAGrB,CAAC,CAACoB,CAAC,CAACE,MAAH,CAAD,CAAYC,OAAZ,CAAoB,IAApB,EAA0BhB,IAA1B,CAA+B,IAA/B,CAAX;AACAiB,QAAAA,MAAM,CAACC,QAAP,aAAqBV,aAArB,oCAA4DM,EAA5D;AACA,OAHD;AAIA;;AA1BqB;AAAA;AAAA,CAAvB;AA6BArB,CAAC,CAAC0B,QAAD,CAAD,CAAYC,KAAZ,CAAkB,YAAM;AACvB7B,EAAAA,cAAc,CAACC,UAAf;AACA,CAFD","sourcesContent":["/*\n * Copyright (C) MIKO LLC - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential\n * Written by Nikolay Beketov, 11 2018\n *\n */\n\n/* global globalRootUrl */\nconst outboundRoutes = {\n\tinitialize() {\n\t\t$('#routingTable').tableDnD({\n\t\t\tonDrop() {\n\t\t\t\t$('.rule-row').each((index, obj) => {\n\t\t\t\t\tconst ruleId = $(obj).attr('id');\n\t\t\t\t\tconst oldPriority = parseInt($(obj).attr('data-value'), 10);\n\t\t\t\t\tconst newPriority = obj.rowIndex;\n\t\t\t\t\tif (oldPriority !== newPriority) {\n\t\t\t\t\t\t$.api({\n\t\t\t\t\t\t\ton: 'now',\n\t\t\t\t\t\t\turl: `${globalRootUrl}outbound-routes/changePriority/${ruleId}`,\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\tdata: {newPriority},\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tonDragClass: 'hoveringRow',\n\t\t\tdragHandle: '.dragHandle',\n\t\t});\n\n\t\t$('.rule-row td').on('dblclick', (e) => {\n\t\t\tconst id = $(e.target).closest('tr').attr('id');\n\t\t\twindow.location = `${globalRootUrl}outbound-routes/modify/${id}`;\n\t\t});\n\t},\n};\n\n$(document).ready(() => {\n\toutboundRoutes.initialize();\n});\n"],"file":"outbound-routes-index.js"}